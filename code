<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Streaming</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-image: url('r.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
        }

        h1 {
            color: #15ff00;
            font-size: 100px;
        }

        .btn-container {
            margin-top: 20px;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 5px 2px;
            transition-duration: 0.4s;
            cursor: pointer;
            border-radius: 8px;
        }

        button:hover {
            background-color: white;
            color: #4CAF50;
            border: 2px solid #4CAF50;
        }

        button:active {
            background-color: #45a049;
        }

        audio {
            width: 100%;
            margin-top: 20px;
        }

        .volume-slider {
            width: 80%;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <h1>Radio Streaming</h1>
    <div class="btn-container">
        <button id="playPauseBtn">Play</button>
        <br>
        <button id="stopBtn">Stop</button>
        <br>
        <select id="channelSelect">
            <option value="0">Channel 1</option>
            <option value="1">Channel 2</option>
            <option value="2">Channel 3</option>
            <option value="3">Channel 4</option>
            <option value="4">Channel 5</option>
        </select>
        <br>
        <label for="autoStopTime">Auto Stop Time (minutes):</label>
        <input type="number" id="autoStopTime" min="1" value="30">
    </div>

    <audio id="radio" controls></audio>
    <div class="volume-slider">
        <label for="volume">Volume:</label>
        <input type="range" id="volume" min="0" max="1" step="0.1" value="1">
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const radio = document.getElementById('radio');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            const volumeSlider = document.getElementById('volume');
            const channelSelect = document.getElementById('channelSelect');
            const autoStopTimeInput = document.getElementById('autoStopTime');

            const channels = [
                "https://c5.siar.us/proxy/ssfm/stream",
                "https://27153.live.streamtheworld.com/T_RAD_90S_S01_SC",
                "https://stream.live.vc.bbcmedia.co.uk/bbc_world_service",
                "https://c5.siar.us/proxy/ssfm/stream",
                "https://n05.radiojar.com/4ywdgup3bnzuv?rj-"
            ];

            let autoStopTimer;
            let currentChannel = 0;
            let isPlaying = false;

            function playChannel(channelIndex) {
                radio.src = channels[channelIndex];
                radio.play();
                isPlaying = true;

                const autoStopTime = parseInt(autoStopTimeInput.value) * 60 * 1000;
                autoStopTimer = setTimeout(function () {
                    radio.pause();
                    radio.currentTime = 0;
                    playPauseBtn.textContent = 'Play';
                    isPlaying = false;
                    alert('Radio otomatis berhenti setelah ' + parseInt(autoStopTimeInput.value) + ' menit.');
                }, autoStopTime);
            }

            playPauseBtn.addEventListener('click', function () {
                if (isPlaying) {
                    radio.pause();
                    playPauseBtn.textContent = 'Play';
                } else {
                    const selectedChannel = parseInt(channelSelect.value);
                    playChannel(selectedChannel);
                    playPauseBtn.textContent = 'Pause';
                }
                isPlaying = !isPlaying;
            });

            stopBtn.addEventListener('click', function () {
                radio.pause();
                radio.currentTime = 0;
                playPauseBtn.textContent = 'Play';
                isPlaying = false;
                clearTimeout(autoStopTimer);
            });

            volumeSlider.addEventListener('input', function () {
                radio.volume = volumeSlider.value;
            });
        });
    </script>
</body>

</html>
